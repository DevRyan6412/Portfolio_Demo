<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--CSS Icon-->
  <link rel="stylesheet" href="/vendors/mdi/css/materialdesignicons.min.css">
  <link rel="stylesheet" href="/vendors/css/vendor.bundle.base.css">
  <!--    CSS-->
  <link rel="stylesheet" href="/css/style.css">
  <!--JQuery-->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.tiny.cloud/1/bqgqrijaerjrvqx6r2vs05nhaoaxpsj2pi59vrvc6wc44eok/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
  <link rel="shortcut icon" href="/images/favicon.png" />
  <title>Ddait 사람들을 따듯하게 잇다</title>
  <style>
    /* 메시지 알림 스타일 추가 */
    .alert {
      padding: 15px;
      margin-bottom: 20px;
      border: 1px solid transparent;
      border-radius: 4px;
      text-align: center;
    }

    .alert-success {
      color: #155724;
      background-color: #d4edda;
      border-color: #c3e6cb;
    }

    .alert-error {
      color: #721c24;
      background-color: #f8d7da;
      border-color: #f5c6cb;
    }
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }
    body {
        font-family: 'Noto Sans KR', sans-serif;
        background-color: #f5f5f5;
    }
    /* 고정 사이드바 */
            .sidebar {
                position: fixed;
                bottom: 0px;
                height: 100vh;
                overflow-y: auto;
            }
        /* 메인 패널 기본 설정: 사이드바 너비 만큼 왼쪽 마진 */
        .main-panel {
          transition: margin-left 0.3s ease;
        }
        .page-body-wrapper {
            margin-right: 0px;
        }
    /* 폼 컨테이너: noticeBoardDetail의 수정폼과 동일한 스타일 적용 */
    .form-container {
    min-height: 400px;         /* 상세보기와 동일한 최소 높이 */
    padding: 20px;
    border: 1px solid #dee2e6;
    border-radius: 5px;
    background-color: #f8f9fa;
    }
  </style>
</head>
<body>
<div class="container-scroller d-flex">
  <!-- 분리한 사이드바(fragment) 포함 -->
  <div th:replace="~{layout/sidebarinproject :: sidebar}"></div>
  <div class="container-fluid page-body-wrapper">
    <!-- 분리한 네비게이션 바(fragment) 포함 -->
    <div th:replace="~{layout/navbar :: navbar}"></div>
    <div class="main-panel">
      <div class="content-wrapper"><!--여기부터-->
        <h1>게시글 등록
          <span class="float-end">
            <a th:href="@{/projects/{projectId}/board/noticeboard(projectId=${projectId})}" class="btn btn-inverse-primary btn-fw">목록 보기</a>
          </span>
        </h1>
        <form id="boardForm" th:action="@{/projects/{projectId}/board/noticeboard/create(projectId=${projectId})}" method="post" th:object="${noticeBoardDto}">
            <div class="mb-3">
              <label for="title" class="form-label">제목</label>
              <input type="text" th:field="*{title}" class="form-control" id="title" placeholder="제목 입력" required>
            </div>
            <div class="mb-3">
              <label for="contents" class="form-label">내용</label>
              <textarea th:field="*{contents}" class="form-control" id="contents" rows="5" placeholder="내용을 입력하세요."></textarea>
            </div>
        </form>
        <!-- 폼 영역 바깥, 동일한 위치(오른쪽)에 등록 버튼 배치 -->
        <div class="d-flex justify-content-end mt-3">
          <!-- 'form' 속성을 이용하여 boardForm 폼과 연결 -->
          <button type="submit" form="boardForm" class="btn btn-primary">등록</button>
        </div>
    </div><!--여기까지-->
  </div>
</div>
</div>
</div>
<script>
  tinymce.init({
      indent: false,
      pad_empty_with_br: true,
      selector: "#contents",
      plugins: "preview searchreplace autolink autosave save directionality visualblocks visualchars fullscreen image link media codesample table charmap pagebreak nonbreaking anchor advlist lists wordcount help linkchecker emoticons",
      //plugins: "advtemplate preview powerpaste casechange searchreplace autolink autosave save directionality advcode visualblocks visualchars fullscreen image link media mediaembed codesample advtable table charmap pagebreak nonbreaking anchor advlist lists checklist wordcount tinymcespellchecker a11ychecker help formatpainter permanentpen pageembed linkchecker emoticons export",
      height: '700px',
      hidden_input: false,
      toolbar_sticky: true,
      icons: 'thin',
      //autosave_restore_when_empty: true, // 이전 기록 자동저장
      content_style: `
          body {
              background: #fff;
          }

          @media (min-width: 840px) {
              html {
                  background: #eceef4;
                  min-height: 100%;
                  padding: 0 .5rem
              }

              body {
                  background-color: #fff;
                  box-shadow: 0 0 4px rgba(0, 0, 0, .15);
                  box-sizing: border-box;
                  margin: 1rem auto 0;
                  max-width: 820px;
                  min-height: calc(100vh - 1rem);
                  padding:4rem 6rem 6rem 6rem
              }
          }
      `,
  });
</script>
<!--Layout 필수 자바스크립트 경로-->
<!-- base:js -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/vendors/js/vendor.bundle.base.js"></script>
<!-- endinject -->
<!-- Plugin js for this page-->
<script src="/vendors/chart.js/Chart.min.js"></script>
<script src="/js/jquery.cookie.js" type="text/javascript"></script>
<!-- End plugin js for this page-->
<!-- inject:js -->
<script src="/js/off-canvas.js"></script>
<script src="/js/hoverable-collapse.js"></script>
<script src="/js/template.js"></script>
<!-- endinject -->
<!-- plugin js for this page -->
<script src="/js/jquery.cookie.js" type="text/javascript"></script>
<!-- End plugin js for this page -->
<!-- Custom js for this page-->
<script src="/js/dashboard.js"></script>
<!-- End custom js for this page-->

</body>
</html>
